<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import javafx.scene.image.ImageView?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<BorderPane
        prefHeight="600"
        prefWidth="1000"
        styleClass="root-pane"
        stylesheets="@../css/customFoods.css"
        xmlns="http://javafx.com/javafx/17.0.12"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="com.group4.macromanager.controller.CustomFoodFormController"
>

    <!-- Sidebar -->
    <left>
        <fx:include source="./sidebar.fxml" fx:id="sidebarInclude" />
    </left>

    <!-- Main Custom Food Form Content -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="25" styleClass="form-container">

            <Label text="Add Custom Food" styleClass="form-title"/>

            <GridPane hgap="20" vgap="15" alignment="CENTER">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" prefWidth="150"/>
                    <ColumnConstraints halignment="LEFT" prefWidth="250"/>
                </columnConstraints>

                <Label text="Food Name:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="nameField" promptText="e.g., Oatmeal" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Serving Size:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <HBox spacing="10" alignment="CENTER_LEFT" GridPane.rowIndex="1" GridPane.columnIndex="1">
                    <TextField fx:id="servingField" promptText="e.g., 100" prefWidth="120"/>
                    <ComboBox fx:id="unitComboBox" promptText="grams" prefWidth="120">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <String fx:value="grams"/>
                                <String fx:value="ounces"/>
                                <String fx:value="cups"/>
                                <String fx:value="pieces"/>
                            </FXCollections>
                        </items>
                    </ComboBox>
                </HBox>

                <Label text="Calories:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextField fx:id="caloriesField" promptText="e.g., 120" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Label text="Protein (g):" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <TextField fx:id="proteinField" promptText="e.g., 5" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Label text="Carbs (g):" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                <TextField fx:id="carbsField" promptText="e.g., 20" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                <Label text="Fat (g):" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                <TextField fx:id="fatField" promptText="e.g., 2" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                <Label text="Photo:" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
                <HBox spacing="15" alignment="CENTER_LEFT" GridPane.rowIndex="6" GridPane.columnIndex="1">
                    <ImageView fx:id="foodImage" fitWidth="100" fitHeight="100"
                               style="-fx-background-color: rgba(255,255,255,0.1); -fx-border-color: #666; -fx-border-radius: 10; -fx-background-radius: 10;"
                               preserveRatio="true"/>
                    <Button fx:id="uploadButton" text="Upload Image" onAction="#handleUpload" />
                </HBox>

                <Label text="Add to Favorites:" GridPane.rowIndex="7" GridPane.columnIndex="0"/>
                <CheckBox fx:id="favoriteCheckBox" text="Mark as favorite" GridPane.rowIndex="7" GridPane.columnIndex="1"/>
            </GridPane>

            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="saveButton" text="Save" styleClass="primary-button" onAction="#handleSave"/>
                <Button fx:id="cancelButton" text="Cancel" styleClass="secondary-button" onAction="#handleCancel"/>
            </HBox>

        </VBox>
    </center>

</BorderPane>

